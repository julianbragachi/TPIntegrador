@model AyudandoAlProjimo.Data.ViewModels.HomeIndexViewModel

@{
    Layout = Session["ID"] == null ? "~/Views/Shared/AnonimoLayout.cshtml" : "~/Views/Shared/PropuestasLayout.cshtml";
    ViewBag.Title = "Home Page";
}

<div class="parallax-container">
    <div class="parallax">
        <h1 class="parallax-title header">Ayudando al projimo</h1>
        <img src="https://redjoven.com.ar/wp-content/uploads/2018/09/daniel-chekalov-614447-unsplash.jpg">
    </div>
</div>

<div class="section white">
    <div class="row container">
        <h2 class="header" style="font-family: 'WCManoNegraBta';">Propuestas mas Valoradas</h2>
        <div class="row">
            @foreach (var propuesta in Model.MasValoradas)
            {
                <div class="col m6 s12">
                    <div class="card hoverable">
                        <div class="card-image">
                            <img class="materialboxed" src="@propuesta.Foto">
                            <span class="card-title">@propuesta.Nombre</span>
                        </div>
                        <div class="card-content">
                            <p>
                                @propuesta.Descripcion
                            </p>
                        </div>
                        <div class="card-action d-flex" style="justify-content: space-between">
                            <div>
                                @Html.ActionLink("Ver Detalles", "VerDetalles", "Propuestas", new { id = @propuesta.IdPropuesta }, null)
                            </div>
                            <div>
                                <a href="@Url.Action("Valoracion", "Propuestas", new { id = propuesta.IdPropuesta, valor = "Like" } )">
                                    <i class="tiny material-icons">
                                        thumb_up_alt
                                    </i>
                                    Me gusta
                                </a>

                                <a href="@Url.Action("Valoracion", "Propuestas", new { id = propuesta.IdPropuesta, valor = "Dislike" } )">
                                    <i class="tiny material-icons">
                                        thumb_down_alt
                                    </i>
                                    No me gusta
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>

    @if (Model.IsLoggedIn)
    {
        <div class="row container">
            <h2 class="header" style="font-family: 'WCManoNegraBta';">Mis Propuestas</h2>
            <p>
                <label>
                    <input type="checkbox" class="filled-in" checked="@Model.OnlyActiveProposals" id="chkOnlyActive" />
                    <span>Solo activas</span>
                </label>
            </p>

            <div class="row">
                @foreach (var propuesta in Model.MisPropuestas)
                {
                    <div class="col m6 s12">
                        <div class="card hoverable">
                            <div class="card-image">
                                <img class="materialboxed" src="@propuesta.Foto">
                                <span class="card-title">@propuesta.Nombre</span>
                            </div>
                            <div class="card-content">
                                <p>
                                    @propuesta.Descripcion
                                </p>
                            </div>
                            <div class="card-action d-flex" style="justify-content: space-between">
                                <div>
                                    @Html.ActionLink("Ver Detalles", "VerDetalles", "Propuestas", new { id = @propuesta.IdPropuesta }, null)
                                </div>
                                <div>
                                    <a href="@Url.Action("Valoracion", "Propuestas", new { id = propuesta.IdPropuesta, valor = "Like" } )">
                                        <i class="tiny material-icons">
                                            thumb_up_alt
                                        </i>
                                        Me gusta
                                    </a>

                                    <a href="@Url.Action("Valoracion", "Propuestas", new { id = propuesta.IdPropuesta, valor = "Dislike" } )">
                                        <i class="tiny material-icons">
                                            thumb_down_alt
                                        </i>
                                        No me gusta
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    }


</div>

<div class="parallax-container">
    <div class="parallax"><img src="https://assets.survivornet.com/wp-content/uploads/2019/09/10182939/everton-vila-AsahNlC0VhQ-unsplash-1200x630.jpg"></div>
</div>